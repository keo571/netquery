# Neila Database Configuration
# This configuration is for the Neila database

# ============================================================================
# Schema Configuration
# ============================================================================
# Schema identifier - used for cache isolation and namespace
SCHEMA_ID=neila

# Database connection URL
DATABASE_URL=sqlite:///data/neila.db

# Canonical schema path (generated from Excel via schema ingestion)
CANONICAL_SCHEMA_PATH=schema_files/neila_schema.json

# Excel schema source (for reference)
EXCEL_SCHEMA_PATH=schema_files/neila_schema.xlsx

# ============================================================================
# LLM Configuration (Required)
# ============================================================================
GEMINI_API_KEY=AIzaSyAhMuoSY1OyUNbIaE4lpzYeakhOzZvvvrM

# ============================================================================
# Cache Configuration (Automatic)
# ============================================================================
# Cache files are automatically derived from SCHEMA_ID:
# - Embeddings: data/neila_embeddings_cache.db
# - SQL Cache: data/neila_sql_cache.db

# ============================================================================
# Logging
# ============================================================================
LOG_LEVEL=INFO

# ============================================================================
# CORS Configuration (Optional)
# ============================================================================
# Comma-separated list of allowed origins for CORS
CORS_ALLOWED_ORIGINS=http://localhost:3000,http://localhost:3001

# ============================================================================
# Setup Instructions
# ============================================================================
# To set up the Neila database:
#
# 1. Create Excel schema file:
#    - Create schema_files/neila_schema.xlsx
#    - Add 'table_schema' sheet (REQUIRED): table_name, column_name, data_type, description, sample_values
#    - Add 'mapping' sheet (REQUIRED): table_a, column_a, table_b, column_b
#    - Add 'suggested_queries' sheet (REQUIRED): query (visualization-focused queries)
#
# 2. Run schema ingestion:
#    python -m src.schema_ingestion build \
#      --schema-id neila \
#      --excel-path schema_files/neila_schema.xlsx \
#      --output-path schema_files/neila_schema.json
#
# 3. Create database (create your own script or use existing pattern):
#    python scripts/create_neila_data.py
#
# 4. Start backend on port 8001:
#    SCHEMA_ID=neila python -m src.api.server --port 8001
#
# Or use environment file directly:
#    cp .env.neila .env && python -m src.api.server --port 8001
